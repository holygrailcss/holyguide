---
layout: base-clean.njk
---

<link rel="stylesheet" href="/assets/css/home.css">
<link rel="stylesheet" href="/assets/css/hg-header.css">
<link rel="stylesheet" href="/assets/css/hg-menu.css">

<div class="templates-2026-home p-24">
  {% include '_paginas/templates-2026/hg-header.njk' %}

  <!-- Panel hg-menu: se abre al hacer click en .js-hg-menu-toggle -->
  <div id="hg-menu-panel" class="hg-menu-panel" aria-hidden="true" aria-label="Menú" role="dialog" inert>
    <button type="button" class="hg-menu-panel__close" aria-label="Cerrar menú">&times;</button>
    <div class="hg-menu-panel__inner">
      {% include '_paginas/templates-2026/hg-menu.njk' %}
    </div>
  </div>
  <div id="hg-menu-backdrop" class="hg-menu-backdrop" aria-hidden="true" tabindex="-1"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
(() => {
  if (typeof gsap === 'undefined') return;

  // Animación de entrada del logo (centro → posición en header)
  (function() {
    const container = document.querySelector('.js-hg-header-logo');
    const logo = document.querySelector('.js-hg-header-logo-icon');
    if (!logo || !container) return;

    setTimeout(() => {
      const containerRect = container.getBoundingClientRect();
      const isDesktop = window.innerWidth >= 992;

      if (isDesktop) {
        gsap.to(logo, {
          left: containerRect.left,
          top: containerRect.top + (containerRect.height / 2),
          width: containerRect.width,
          duration: 1,
          ease: 'power3.out',
          onComplete() {
            gsap.set(logo, { clearProps: 'all' });
            logo.classList.remove('hg-header-logo-icon--home-animation');
          }
        });
      } else {
        gsap.to(logo, {
          left: containerRect.left + (containerRect.width / 2),
          top: containerRect.top + (containerRect.height / 2),
          width: containerRect.width,
          duration: 0.8,
          ease: 'power3.out',
          onComplete() {
            gsap.set(logo, { clearProps: 'all' });
            logo.classList.remove('hg-header-logo-icon--home-animation');
          }
        });
      }
    }, 1000);
  })();

  // Abrir/cerrar hg-menu (accesible: Tab, Escape, foco, inert, ARIA)
  (function() {
    var panel = document.getElementById('hg-menu-panel');
    var backdrop = document.getElementById('hg-menu-backdrop');
    var closeBtn = panel ? panel.querySelector('.hg-menu-panel__close') : null;
    if (!panel || !backdrop || !closeBtn) return;

    var lastFocusedTrigger = null;
    function openMenu(trigger) {
      lastFocusedTrigger = trigger || document.activeElement;
      panel.removeAttribute('inert');
      panel.classList.add('is-open');
      backdrop.classList.add('is-open');
      panel.setAttribute('aria-hidden', 'false');
      backdrop.setAttribute('aria-hidden', 'false');
      document.querySelectorAll('.js-hg-menu-toggle').forEach(function(el) {
        el.setAttribute('aria-expanded', 'true');
      });
      closeBtn.focus();
      document.addEventListener('keydown', onEscape);
    }
    function closeMenu() {
      panel.setAttribute('inert', '');
      panel.classList.remove('is-open');
      backdrop.classList.remove('is-open');
      panel.setAttribute('aria-hidden', 'true');
      backdrop.setAttribute('aria-hidden', 'true');
      document.querySelectorAll('.js-hg-menu-toggle').forEach(function(el) {
        el.setAttribute('aria-expanded', 'false');
      });
      document.removeEventListener('keydown', onEscape);
      if (lastFocusedTrigger && lastFocusedTrigger.focus) lastFocusedTrigger.focus();
    }
    function onEscape(e) {
      if (e.key === 'Escape' && panel.classList.contains('is-open')) closeMenu();
    }

    document.querySelectorAll('.js-hg-menu-toggle').forEach(function(el) {
      el.setAttribute('aria-controls', 'hg-menu-panel');
      el.setAttribute('aria-expanded', 'false');
      el.setAttribute('aria-haspopup', 'true');
      el.addEventListener('click', function(e) {
        e.preventDefault();
        if (panel.classList.contains('is-open')) closeMenu(); else openMenu(el);
      });
    });
    closeBtn.addEventListener('click', closeMenu);
    backdrop.addEventListener('click', closeMenu);
  })();
})();
</script>
